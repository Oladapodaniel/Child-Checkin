(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workflow"],{"3ba6":function(e,t,a){"use strict";a("72ff")},"72ff":function(e,t,a){},"8ff5":function(e,t,a){"use strict";a("f20d")},"95dc":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o=Object(n["O"])("data-v-096e0a64");Object(n["y"])("data-v-096e0a64");var c={class:"container-fluid "},s={class:"row"},l={class:"col-12 col-md-5 offset-md-1"},r={class:" container"},u={class:"row justify-content-center"},i={class:" col-10 mt-5 "},b={class:"col-10 my-3"},d={key:0,class:"font-weight-bold"},g={key:1,class:"font-weight-bold"},p={key:0,class:"row"},j={class:"col-10 offset-1 font-weight-bold"},v={class:"row"},O={class:"col-10 offset-1"},h={key:0,class:"col-10"},f={class:"error-div"},m={class:"error-message"},k={class:"col-10 form-group"},w=Object(n["k"])("label",{class:"font-weight-bold "},"Phone Number",-1),y={class:"col-10"},I=Object(n["k"])("label",{class:"font-weight-bold"}," Password ",-1),S=Object(n["k"])("div",{class:"mt-1"},"Must be six character long",-1),L={class:"col-10 mt-2 text-primary"},D=Object(n["j"])("Forgot password?"),x=Object(n["k"])("div",{class:"col-10 mt-3"},[Object(n["k"])("button",{class:"btn btn-primary create-btn font-weight-bold w-100"},"Log in")],-1),C={key:2},U={key:3,class:"row  offset-1"},R={class:"col-10 my-4 font-weight-bold"},A=Object(n["k"])("span",null,"Don't have an account?",-1),N=Object(n["j"])("   "),M=Object(n["k"])("div",{class:"col-10 mt-3 font-weight-bold"},"All Right Reserved 2021",-1),J={class:"col-5 col-md-5 offset-md-1 childimage d-none d-md-block  d-lg-block"},P={class:"text-white "},V=Object(n["k"])("br",null,null,-1),_=Object(n["j"])(" Child Checkin");Object(n["w"])();var q=o((function(e,t,a,q,E,F){var H=Object(n["D"])("router-link"),B=Object(n["D"])("SignUpCheckin");return Object(n["v"])(),Object(n["g"])("div",c,[Object(n["k"])("div",s,[Object(n["k"])("div",l,[Object(n["k"])("div",r,[Object(n["k"])("div",u,[Object(n["k"])("div",i,[Object(n["k"])("img",{src:q.churchLogo,style:{width:"250px"},alt:""},null,8,["src"])]),Object(n["k"])("div",b,[q.showLogIn?(Object(n["v"])(),Object(n["g"])("h4",d,"Log in to Child Checkin")):Object(n["h"])("",!0),q.showSignUp?(Object(n["v"])(),Object(n["g"])("h4",g,"Create an account")):Object(n["h"])("",!0)])]),q.showLogIn||q.showSignUp?Object(n["h"])("",!0):(Object(n["v"])(),Object(n["g"])("div",p,[Object(n["k"])("h4",j," Welcome to "+Object(n["H"])(q.churchName)+" Child Checkin ",1)])),Object(n["k"])("div",v,[Object(n["k"])("div",O,[q.showLogIn||q.showSignUp?Object(n["h"])("",!0):(Object(n["v"])(),Object(n["g"])("button",{key:0,class:"btn btn-primary create-btn font-weight-bold w-100 mt-5",onClick:t[1]||(t[1]=function(){return q.toggleLogIn&&q.toggleLogIn.apply(q,arguments)})},"Log in")),q.showLogIn||q.showSignUp?Object(n["h"])("",!0):(Object(n["v"])(),Object(n["g"])("button",{key:1,class:"btn text-white signup-btn font-weight-bold w-100 mt-3",onClick:t[2]||(t[2]=function(){return q.toggleSignUp&&q.toggleSignUp.apply(q,arguments)})},"Sign Up"))])]),q.showLogIn?(Object(n["v"])(),Object(n["g"])("form",{key:1,onSubmit:t[5]||(t[5]=Object(n["N"])((function(){return q.logIn&&q.logIn.apply(q,arguments)}),["prevent"])),class:"row justify-content-center mb-3"},[q.errorMessage?(Object(n["v"])(),Object(n["g"])("div",h,[Object(n["k"])("div",f,[Object(n["k"])("p",m,Object(n["H"])(q.errorMessage),1)])])):Object(n["h"])("",!0),Object(n["k"])("div",k,[w,Object(n["M"])(Object(n["k"])("input",{type:"text",class:" form-control all-input ","onUpdate:modelValue":t[3]||(t[3]=function(e){return q.username=e}),placeholder:"Enter phone number"},null,512),[[n["J"],q.username]])]),Object(n["k"])("div",y,[I,Object(n["M"])(Object(n["k"])("input",{type:"password",class:" form-control all-input","onUpdate:modelValue":t[4]||(t[4]=function(e){return q.userDetails.password=e}),placeholder:"Enter password"},null,512),[[n["J"],q.userDetails.password]]),S]),Object(n["k"])("div",L,[Object(n["k"])(H,{to:{name:"ForgotPassword",params:{tenantId:q.route.query.id}}},{default:o((function(){return[D]})),_:1},8,["to"])]),x],32)):Object(n["h"])("",!0),q.showSignUp?(Object(n["v"])(),Object(n["g"])("div",C,[Object(n["k"])(B,{onShowLogIn:q.displayLogIn},null,8,["onShowLogIn"])])):Object(n["h"])("",!0),q.showLogIn?(Object(n["v"])(),Object(n["g"])("div",U,[Object(n["k"])("div",R,[A,N,Object(n["k"])("span",{class:"text-primary",onClick:t[6]||(t[6]=function(){return q.toggleSignUp&&q.toggleSignUp.apply(q,arguments)})},"Sign up now")]),M])):Object(n["h"])("",!0)])]),Object(n["k"])("div",J,[Object(n["k"])("div",P,[Object(n["k"])("h1",null,[Object(n["j"])(Object(n["H"])(q.churchName),1),V,_])])])])])})),E=a("1da1"),F=(a("96cf"),a("caad"),a("2532"),a("d3b7"),a("25f0"),a("b0c0"),a("6c02")),H=a("ea44"),B=a("28bb"),G=a("a18c"),T=a("c6b4"),W={components:{SignUpCheckin:T["default"]},setup:function(){var e=Object(F["c"])(),t=Object(n["A"])({}),a=Object(n["A"])(""),o=Object(n["A"])(""),c=Object(n["A"])(""),s=Object(n["A"])(""),l=Object(n["A"])(!1),r=Object(n["A"])(!1),u=function(){var e=Object(E["a"])(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.value.includes("@")?t.value.email=a.value:t.value.phoneNumber=a.value,console.log(t.value),e.prev=2,e.next=5,H["a"].post("/familyLogin",t.value);case 5:n=e.sent,console.log(n),200===n.status&&401===n.data.login.result.statusCode?s.value=n.data.login.result.value.message:200===n.status&&200===n.data.login.result.statusCode?(o={checkinPerson:n.data.personID,tenantId:n.data.login.result.value.tenantID},localStorage.setItem("checkinToken",n.data.login.result.value.token),localStorage.setItem("baseAuth",JSON.stringify(o)),G["a"].push({name:"CheckinDashboard"}),s.value=""):console.log(n),e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](2),Object(B["a"])(),console.log(e.t0.response),e.t0&&e.t0.response&&400===e.t0.response.status?s.value=e.t0.response.data:e.t0.toString().toLowerCase().includes("network error")?s.value="Network error, please make sure you have a strong internet connection":e.t0.toString().toLowerCase().includes("timeout")?s.value="Request took too long to respond, please reload and try again":console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var t=Object(E["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H["a"].get("/GetChurchProfileById?tenantId=".concat(e.query.id));case 3:a=t.sent,console.log(a),o.value=a.data.returnObject.logo,c.value=a.data.returnObject.name,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0),Object(B["a"])();case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();i();var b=function(){l.value=!0,r.value=!1},d=function(){r.value=!0,l.value=!1},g=function(e){l.value=e,r.value=!1};return{userDetails:t,logIn:u,route:e,username:a,churchLogo:o,churchName:c,errorMessage:s,toggleLogIn:b,toggleSignUp:d,showLogIn:l,showSignUp:r,displayLogIn:g}}};a("8ff5");W.render=q,W.__scopeId="data-v-096e0a64";t["default"]=W},c6b4:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o=Object(n["O"])("data-v-0a44f20a");Object(n["y"])("data-v-0a44f20a");var c={class:"container-fluid "},s={class:"row"},l={class:"col-12"},r={key:0,class:"col-10"},u={class:"error-div"},i={class:"error-message"},b=Object(n["k"])("div",{class:"col-sm-10"},[Object(n["k"])("label",{class:"font-weight-bold"},"What's your name?")],-1),d={class:"col-sm-5  form-group"},g={class:"col-sm-5 form-group"},p={class:"col-sm-10 form-group"},j=Object(n["k"])("label",{class:"font-weight-bold "},"Phone Number",-1),v={class:"col-sm-5 "},O=Object(n["k"])("label",{class:"font-weight-bold"},"Role",-1),h={class:"col-sm-5 form-group mt-3"},f=Object(n["k"])("label",{class:"font-weight-bold"}," Password ",-1),m=Object(n["k"])("span",{class:"py-2"},"Must be six character long",-1),k=Object(n["k"])("div",{class:"col-sm-10"},[Object(n["k"])("button",{class:"btn btn-primary create-btn font-weight-bold w-100"},"Create an account")],-1),w={class:"row justify-content-center "},y={class:"col-10 my-4 font-weight-bold"},I=Object(n["k"])("span",null,"Already have an account?",-1),S=Object(n["j"])("   "),L=Object(n["k"])("div",{class:"col-10 mt-3 font-weight-bold"},"All Right Reserved 2021",-1);Object(n["w"])();var D=o((function(e,t,a,o,D,x){var C=Object(n["D"])("Dropdown");return Object(n["v"])(),Object(n["g"])("div",c,[Object(n["k"])("div",s,[Object(n["k"])("div",l,[Object(n["k"])("form",{onSubmit:t[6]||(t[6]=Object(n["N"])((function(){return o.signUp&&o.signUp.apply(o,arguments)}),["prevent"])),class:"row justify-content-center mb-3"},[o.errorMessage?(Object(n["v"])(),Object(n["g"])("div",r,[Object(n["k"])("div",u,[Object(n["k"])("p",i,Object(n["H"])(o.errorMessage),1)])])):Object(n["h"])("",!0),b,Object(n["k"])("div",d,[Object(n["M"])(Object(n["k"])("input",{type:"text",class:" form-control all-input ","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.userDetails.firstName=e}),placeholder:"First name"},null,512),[[n["J"],o.userDetails.firstName]])]),Object(n["k"])("div",g,[Object(n["M"])(Object(n["k"])("input",{type:"text",class:" form-control all-input","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.userDetails.lastName=e}),placeholder:"Last name"},null,512),[[n["J"],o.userDetails.lastName]])]),Object(n["k"])("div",p,[j,Object(n["M"])(Object(n["k"])("input",{type:"text",class:" form-control all-input ","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.username=e}),placeholder:"Enter phone number"},null,512),[[n["J"],o.username]])]),Object(n["k"])("div",v,[O,Object(n["k"])(C,{class:"w-100  all-input",options:o.roles,optionLabel:"name",placeholder:"Select role",modelValue:o.selectedRole,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.selectedRole=e})},null,8,["options","modelValue"])]),Object(n["k"])("div",h,[f,Object(n["M"])(Object(n["k"])("input",{type:"password",class:" form-control all-input","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.userDetails.password=e}),placeholder:"Enter password"},null,512),[[n["J"],o.userDetails.password]]),m]),k],32),Object(n["k"])("div",w,[Object(n["k"])("div",y,[I,S,Object(n["k"])("span",{class:"primary-text",onClick:t[7]||(t[7]=function(){return o.showLogIn&&o.showLogIn.apply(o,arguments)})},"Sign in now")]),L])])])])})),x=a("1da1"),C=(a("96cf"),a("7db0"),a("b0c0"),a("caad"),a("2532"),a("d3b7"),a("25f0"),a("0100")),U=a("6c02"),R=a("ea44"),A=a("a18c"),N=a("28bb"),M={components:{Dropdown:C["a"]},setup:function(e,t){var a=t.emit,o=Object(U["c"])(),c=Object(n["A"])({tenantId:o.params.tenantId}),s=Object(n["A"])(""),l=Object(n["A"])([]),r=Object(n["A"])({}),u=Object(n["A"])(""),i=Object(n["A"])(""),b=Object(n["A"])(""),d=function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R["a"].get("/getfamilyroles");case 3:t=e.sent,a=t.data,console.log(a),n=a.result.find((function(e){return"Father"===e.name})),l.value.push(n),o=a.result.find((function(e){return"Mother"===e.name})),l.value.push(o),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),Object(N["a"])();case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();d();var g=function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.value.includes("@")?c.value.email=s.value:c.value.phoneNumber=s.value,c.value.familyRole=r.value.id,console.log(c.value),e.prev=3,e.next=6,R["a"].post("/familyRegister",c.value);case 6:t=e.sent,console.log(t),200===t.status&&401===t.data.loginData.value.login.result.statusCode?i.value=t.data.loginData.value.login.result.value.message:200===t.status&&200===t.data.loginData.value.login.result.statusCode?(a={checkinPerson:t.data.personID,tenantId:t.data.loginData.value.login.result.value.tenantID},localStorage.setItem("checkinToken",t.data.loginData.value.login.result.value.token),localStorage.setItem("baseAuth",JSON.stringify(a)),A["a"].push({name:"CheckinDashboard"}),i.value=""):200===t.status&&400===t.data.loginData.value.login.result.statusCode?i.value=t.data.loginData.value.login.result.value.message:console.log(t),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0),Object(N["a"])(),e.t0&&e.t0.response&&400===e.t0.response.status?c.value.password.length<6?i.value="Your password should not be less than 6 characters":i.value=e.t0.response.data:e.t0.toString().toLowerCase().includes("network error")?i.value="Network error, please make sure you have a strong internet connection":e.t0.toString().toLowerCase().includes("timeout")?i.value="Request took too long to respond, please reload and try again":console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R["a"].get("/GetChurchProfileById?tenantId=".concat(o.params.tenantId));case 3:t=e.sent,console.log(t),u.value=t.data.returnObject.logo,b.value=t.data.returnObject.name,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),Object(N["a"])();case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();p();var j=function(){a("show-log-in",!0)};return{userDetails:c,signUp:g,roles:l,selectedRole:r,route:o,username:s,churchLogo:u,errorMessage:i,churchName:b,showLogIn:j}}};a("3ba6");M.render=D,M.__scopeId="data-v-0a44f20a";t["default"]=M},f20d:function(e,t,a){}}]);
//# sourceMappingURL=workflow.46d418f2.js.map